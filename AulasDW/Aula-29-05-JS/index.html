<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Aula 29-05</title>
</head>
<body>
    <h1 onclick="alert('Clicou no h1')">Formulário de Endereço</h1>
    <form action="#" method="post">
        <label for="nome">Nome:</label><br>
        <input type="text" id="nome" name="nome"><br><br>

        <label for="rua">Rua:</label><br>
        <input type="text" id="rua" name="rua"><br><br>

        <label for="numero">Número:</label><br>
        <input type="text" id="numero" name="numero"><br><br>

        <label for="bairro">Bairro:</label><br>
        <input type="text" id="bairro" name="bairro"><br><br>

        <label for="cidade">Cidade:</label><br>
        <input type="text" id="cidade" name="cidade"><br><br>

        <label for="estado">Estado:</label><br>
        <input type="text" id="estado" name="estado"><br><br>

        <label for="cep">CEP:</label><br>
        <input type="text" id="cep" name="cep"><br><br>

        <input type="submit" value="Enviar">
    </form>
    
    <div>
        <p id="nomeText"></p>
        <p id="ruaText"></p>
        <p id="bairroText"></p>
        <p id="numeroText"></p>
        <p id="cidadeText"></p>
        <p id="estadoText"></p>
        <p id="cepText"></p>
    </div>

    <script>
        const form = document.getElementById('formEndereco');

        document.getElementsByTagName('h1')[0].addEventListener('mouseover', (event) => {
            event.target.style.color = 'red';
        });

        document.getElementsByTagName('h1')[0].addEventListener('mouseout', function(event){
            event.target.style.color = '#000';
        });

        document.getElementById('nome').addEventListener('blur', function(){
            if (this.value.trim() == ''){
                this.style.backgroundColor = "#e8c5c7 ";
                this.style.borderColor = "#8b232b";
            } else if (this.value.trim().length < 3){
                this.style.backgroundColor = "#e8c5c7 ";
                this.style.borderColor = "#8b232b";
                alert("O campo nome deve conter pelo menos 3 caracteres!");    
            } else {
                this.style.backgroundColor = "#fff ";
                this.style.borderColor = "#14cb06";
            }
        });

        form.addEventListener('submit', function(event){
            event.preventDefault(); // Impede o envio do formulário
            if (document.getElementById('cep').value.trim() === '') {
                alert("O campo CEP é obrigatório!");
                document.getElementById('cep').style.backgroundColor = "#e8c5c7 ";
                document.getElementById('cep').style.borderColor = "#8b232b";
            } else {
                form.submit();
                document.getElementById('cepText').innerHTML
                = `<b>CEP: </b> ${document.getElementById('cep').value}`;
            }
        });
    </script>
</body>
</html>